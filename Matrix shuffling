package com.company;

import java.util.*;

public class Main {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        String[][] matrix = readMatrix(scanner);

        String command;
        while (!"END".equals(command = scanner.nextLine())) {
            String[] commandArray = command.split("\\s+");

            // In order for a command to be valid, it should start with the "swap" keyword along with four valid coordinates (no more, no less)
            if (commandArray.length == 5) {

                // Check if it starts with 'swap'. If yes, the command is valid
                if (commandArray[0].equals("swap")) {

                    int row1 = Integer.parseInt(commandArray[1]);
                    int column1 = Integer.parseInt(commandArray[2]);

                    int row2 = Integer.parseInt(commandArray[3]);
                    int column2 = Integer.parseInt(commandArray[4]);

                    if (row1 >= matrix.length || row2 >= matrix.length) {
                        System.out.println("Invalid input!");
                    } else {
                        if (column1 >= matrix[row1].length || column2 >= matrix[row2].length) {
                            System.out.println("Invalid input!");
                        } else {

                            // Swap the values
                            String temp = matrix[row1][column1];
                            matrix[row1][column1] = matrix[row2][column2];
                            matrix[row2][column2] = temp;

                            // Print the current state of the matrix
                            printMatrix(matrix);
                        }
                    }

                } else {
                    System.out.println("Invalid input!");
                }

            } else {
                System.out.println("Invalid input!");
            }
        }
    }

    private static String[] readArray(Scanner scanner) {
        return scanner.nextLine().split("\\s+");
    }

    private static String[][] readMatrix(Scanner scanner) {
        int[] dimensions = Arrays.stream(scanner.nextLine().split("\\s+")).mapToInt(Integer::parseInt).toArray();

        int rows = dimensions[0];
        int columns = dimensions[1];

        String[][] matrix = new String[rows][columns];

        // Fill in the matrix
        for (int row = 0; row < matrix.length; row++) {
            matrix[row] = readArray(scanner);
        }
        return matrix;
    }

    private static void printMatrix(String[][] matrix) {
        for (int row = 0; row < matrix.length; row++) {

            for (int column = 0; column < matrix[row].length; column++) {

                System.out.print(matrix[row][column] + " ");
            }
            System.out.println();
        }
    }

}
